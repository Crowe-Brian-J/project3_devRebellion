{% extends 'base.html' %}

{% block content %}
<h1 style="font-family:Copperplate">Project Details</h1>

<div class="row">
    <div class="col s7">
        <div class="card black">
            <div class="card-content">
                <span class="card-title">Project: <strong><span class="red-text">
                            {{ project.name }}
                        </span></strong></span>
                <p><strong>Developer:</strong> <span class="red-text">{{ project.user }}</span></p><br>
                <p><strong>Description:</strong> {{ project.description|linebreaks }}</p>
            </div>
            <div class="card-action">
                <a class="red-text" href="{% url 'projects_update' project.id %}">Edit</a>
                <a class="red-text" href="{% url 'projects_delete' project.id %}">Delete</a>
            </div>
        </div>
        <h3 style="font-family:Copperplate">Comments:</h3>
        {% for comment in comments %}
        <div class="card black">
            <div class="card-content">
                <p class="red-text text-accent-4">{{ comment.user }}</p>
                <p>{{ comment.text }}</p>
                <p class="red-text text-darken-4">{{ comment.timestamp }}</p>
            </div>
        </div>
        {% empty %}
        <p>No comments yet.</p>
        {% endfor %}
        <form method="POST" action="{% url 'add_comment' project.id %}">
            {% csrf_token %}
            {{ comment_form.as_p }}
            <button class="btn red darken-4" type="submit">Post Comment</button>
        </form>
    </div>
    <div class="col s5">
        <!--Display Photos-->
        {% for photo in project.photo_set.all %}
        <img class="responsive-img card-panel" src="{{photo.url}}" alt="project photo {{photo.id}}">
        {% empty %}
        <!-- Change teal-text -->
        <div class="card-panel black red-text text-accent-4 center-align">No Photos Uploaded</div>
        {% endfor %}
        <!--Upload Photos-->
        <form action="{% url 'add_projects_photo' project.id %}" enctype="multipart/form-data" method="POST"
            class="card-panel black">
            {% csrf_token %}
            <input type="file" name="photo-file">
            <br><br>
            <button type="submit" class="btn red darken-4">Upload Photo</button>
        </form>
    </div>
</div>



{% endblock %}