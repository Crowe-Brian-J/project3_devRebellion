{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1 style="font-family:Copperplate">Project Details</h1>

    <div class="card-action">
        <a href="{% url 'projects_update' project.id %}">Edit</a>
        <a href="{% url 'projects_delete' project.id %}">Delete</a>
        <div class="card-content">
            <span class="card-title">{{ project.name }}</span>
            <p><strong>Name:</strong> {{ project.name }}</p>
            <p><strong>Developer:</strong> {{ project.user }}</p>
            <p><strong>Description:</strong> {{ project.description|linebreaks }}</p>
        </div>
    </div>
</div>
<!--Display Photos-->
{% for photo in project.photo_set.all %}
<img class="responsive-img card-panel" src="{{photo.url}}" alt="project photo {{photo.id}}">
{% empty %}
<!-- Change teal-text -->
<div class="card-panel black teal-text center-align">No Photos Uploaded</div>
{% endfor %}
<!--Upload Photos-->
<form action="{% url 'add_projects_photo' project.id %}" enctype="multipart/form-data" method="POST"
    class="card-panel black">
    {% csrf_token %}
    <input type="file" name="photo-file">
    <br><br>
    <button type="submit" class="btn">Upload Photo</button>
</form>
<h2>Comments:</h2>
{% for comment in comments %}
    <div>
        <p>{{ comment.text }}</p>
        <p>{{ comment.timestamp }}</p>
    </div>
{% empty %}
    <p>No comments yet.</p>
{% endfor %}
<form method="POST" action="{% url 'add_comment' project.id %}">
    {% csrf_token %}
    {{ comment_form.as_p }}
    <button type="submit">Post Comment</button>
</form>
{% endblock %}